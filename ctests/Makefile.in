CC           = @CC@
CFLAGS       = @DEFS@ @PAPIPREP@ @THREADDEFS@ @CFLAGS@ @BITFLAGS@ @THREADFLAGS@
LDFLAGS      = @BITFLAGS@ @THREADFLAGS@ -L.. -lgptl @LDFLAGS@ @LIBS@

OBJS = avail.o llcost.o depth.o overhead.o overhead2.o rawpapitest.o numeric.o recursion.o subinline.o \
       exception.o memusage.o basic.o utrtest.o
EXES = avail   llcost   depth   overhead   overhead2   rawpapitest   numeric   recursion subinline \
       exception   memusage basic utrtest

all: $(EXES)
clean:
	rm $(OBJS) $(EXES)

avail: avail.o
	$(CC) -o $@ avail.o $(LDFLAGS)

llcost: llcost.o
	$(CC) -o $@ llcost.o $(LDFLAGS)

depth: depth.o
	$(CC) -o $@ depth.o $(LDFLAGS)

overhead: overhead.o
	$(CC) -o $@ overhead.o $(LDFLAGS)

overhead2: overhead2.o
	$(CC) -o $@ overhead2.o $(LDFLAGS)

rawpapitest: rawpapitest.o
	$(CC) -o $@ rawpapitest.o $(LDFLAGS)

numeric: numeric.o
	$(CC) -o $@ numeric.o $(LDFLAGS)

recursion: recursion.o
	$(CC) -o $@ recursion.o $(LDFLAGS)

subinline.o: subinline.c
	$(CC) -c $(CFLAGS) -finstrument-functions subinline.c
subinline: subinline.o
	$(CC) -o $@ subinline.o $(LDFLAGS)

exception: exception.o
	$(CC) -o $@ exception.o $(LDFLAGS)

memusage: memusage.o
	$(CC) -o $@ memusage.o $(LDFLAGS)

basic: basic.o
	$(CC) -o $@ basic.o $(LDFLAGS)

utrtest: utrtest.o
	$(CC) -o $@ utrtest.o $(LDFLAGS)
