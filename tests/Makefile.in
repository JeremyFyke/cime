CC           = @CC@
CFLAGS       = @DEFS@ @PAPIPREP@ @THREADDEFS@ @CFLAGS@ @BITFLAGS@ @THREADFLAGS@
LDFLAGS      = @BITFLAGS@ @THREADFLAGS@ -L.. -lgptl @LDFLAGS@ @LIBS@

FC           = @F77@
FFLAGS       = @PAPIPREP@ @FORTDEFS@ @FFLAGS@ @BITFLAGS@ @FTHREADFLAGS@
FLDFLAGS     = @BITFLAGS@ @FTHREADFLAGS@ -L.. -lgptl @LDFLAGS@ @LIBS@

COBJS = avail.o llcost.o depth.o overhead.o rawpapitest.o numeric.o
CEXES = avail   llcost   depth   overhead   rawpapitest   numeric

FOBJS = flopsperclock.o omptest.o errtest.o opscost.o \
        hashtest.o papitest.o
FEXES = flopsperclock   omptest   errtest   opscost \
        hashtest   papitest

all: $(CEXES) $(FEXES)
cexes: $(CEXES)
fexes: $(FEXES)
clean:
	rm $(FOBJS) $(COBJS) $(FEXES) $(CEXES)

avail: avail.o
	$(CC) -o $@ avail.o $(LDFLAGS)

llcost: llcost.o
	$(CC) -o $@ llcost.o $(LDFLAGS)

depth: depth.o
	$(CC) -o $@ depth.o $(LDFLAGS)

overhead: overhead.o
	$(CC) -o $@ overhead.o $(LDFLAGS)

rawpapitest: rawpapitest.o
	$(CC) -o $@ rawpapitest.o $(LDFLAGS)

numeric: numeric.o
	$(CC) -o $@ numeric.o $(LDFLAGS)

flopsperclock: flopsperclock.o
	$(FC) -o $@ flopsperclock.o $(FLDFLAGS)

omptest: omptest.o
	$(FC) -o $@ omptest.o $(FLDFLAGS)

errtest: errtest.o
	$(FC) -o $@ errtest.o $(FLDFLAGS)

opscost: opscost.o
	$(FC) -o $@ opscost.o $(FLDFLAGS)

hashtest: hashtest.o
	$(FC) -o $@ hashtest.o $(FLDFLAGS)

papitest: papitest.o
	$(FC) -o $@ papitest.o $(FLDFLAGS)
